{% extends 'base.html' %} 



{% block content %} 
<div id="options" class="">
            
    <div class="" id="form-card">
        <form id="form-content" method="POST" name="analysis_form" id="analysis_form">
            
            <label for="search-artist"></label>
            <input type="text" list="suggestions" name="search-artist" id="search-artist" autocomplete="off" required>
            
            <div class="suggestions-container">
                <datalist id="suggestions">
                    <option class="suggestion" value=""></option>
                    <option class="suggestion" value=""></option>
                    <option class="suggestion" value=""></option>
                </datalist>
            </div>

            <input id="search-button" type="submit" value="analyze">
            <a id="options-button" href="#">|||</a>
        </form>
            
    </div>
    
</div>



<div id="content" class="content">
    
    <div id="legend-card" class="legend-card">
        <div>Track</div>
        <div>Album</div>
        <input type="button" id="track-add" value="add track">
    </div>

    

    {% for uri, track in session['tracks']['current'].items() %}
    <div class="track-card" data-uri="{{ uri }}">
        
        <img class="track-image" src="{{ track['cover_url'] }}" alt="album cover" data-preview="{{ track['preview_url']}}">
        
            <div class="track-info">
                <div class="track-title" data-url="{{ track['track_url'] }}">{{ track['title'] }}</div>
                <div class="track-artists">{{ track['artists'] }}</div>
            </div>
            <div class="track-album">{{ track['album'] }}</div>
        <div class="track-controls">
            <a href="#" class="track-delete">x</a>
            <a href="#" class="track-options" data-id="{{ track['id']}}">+</a>
            
        </div>
    </div>
    
    {% endfor %}
    
    <div id="send" class="legend-card">
        <a id="send_card" href="#">send playlist to spotify</a>
    </div>

</div>
{% endblock %}

{% block modal %}
    <div id="options-modal" class="modal-card">
        <div id="modal-title" >options.</div>

        <div class="model-item">
            <label for="track-track-popularity">popularity - </label>
            <input type="range" name="track-popularity" id="track-popularity"
                    min="1" max="100" step="1" oninput="this.nextElementSibling.value = this.value">
            <output></output>
        </div>

            
        <div class="modal-item">
            <label for="playlist-length">length - </label>
            <input type="range" name="playlist-length" id="playlist-length"
                    min="10" max="30" oninput="this.nextElementSibling.value = this.value">
            <output></output>
        </div>
        
        


        <div class="modal-item">
            <input type="button" class="modal-cancel" value="cancel">
            <input type="button" id="options-send" class="modal-submit" value="go">
        </div>
    </div>

    <div id="playlist-modal" class="modal-card">
        <div class="modal-title">send playlist to spotify</div>
    
        <div class="modal-item">
            <label for="playlist-name">name</label>
            <input type="text" name="playlist-name" id="playlist-name">
        </div>

        <div class="modal-item">
            <label for="playlist-description">description</label>
            <input type="text" name="playlist-description" id="playlist-description">
        </div>

        <div class="modal-item">
            <label for="public">visibility</label>
            <input type="radio" name="public" value="public" checked>
            <input type="radio" name="public" value="private">
        </div>

        <div class="modal-item">
            <input type="button" class="modal-cancel" value="cancel">
            <input type="button" id="playlist-send" class="modal-submit" value="go">
        </div>

    </div>

{% endblock %}

